# plugins/config.yaml - Main plugin configuration file

# Plugin directories to scan
plugin_dirs:
  - "plugins/native"      # Built-in plugins
  - "plugins/custom"      # Custom organization plugins
  - "/etc/mcpgateway/plugins"  # System-wide plugins
  - "/plugins"

# Global plugin settings
plugin_settings:
  parallel_execution_within_band: true
  plugin_timeout: 120
  fail_on_plugin_error: false
  enable_plugin_api: true
  plugin_health_check_interval: 120

plugins:
 - name: auth_header_injector
   kind: "plugins.auth_header_injector.auth_header_injector.AuthHeaderInjectorPlugin"
   description: "Injects authentication headers for HTTP requests to specific URL paths"
   enabled: true
   hooks:
     - "tool_pre_invoke"
   priority: 10
   config:
     # Path-specific header injection (supports wildcards and regex)
     url_path_patterns:
       # To-be cleaned
       - pattern: "/rpc"
         headers:
           x-api-key: "dsfjlkeflk"
         description: "Runtime service authentication"

     # Case-sensitive path matching (default: false)
     case_sensitive: false
     
     # Cache TTL configuration (in seconds)
     # bearer_token_ttl_seconds: 3000  # 50 minutes (default)
     # namespace_ttl_seconds: 600      # 10 minutes (default)
